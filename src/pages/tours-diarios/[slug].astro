---
import Article from "@components/Article.astro";
import Prose from "@components/Prose.astro";
import type { GetStaticPaths } from "astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";
import TourLayout from "src/layouts/TourLayout.astro";

export const getStaticPaths = (async () => {
  const tours = await getCollection("dailyTours");
  return tours.map((tour) => ({
    params: {
      slug: tour.slug,
    },
    props: tour,
  }));
}) satisfies GetStaticPaths;

const tour = Astro.props;

const { Content } = await tour.render();
---

<TourLayout sectionName="Tours diarios">
  <button
    class="inline-flex items-center gap-2 self-start rounded-full border px-6 py-2 transition-colors duration-200 hover:border-primary-500 hover:text-primary-500"
    onclick="history.back()"
  >
    <Icon name="arrow-left" size={20} />

    <span class="text-sm">Volver</span>
  </button>
  <div
    class="border-extra-soft-white w-full max-w-[none] rounded-xl border"
    transition:name={tour.id}
  >
    <Article {...tour.data}>
      <Prose>
        <Content />
      </Prose>
    </Article>
  </div>
</TourLayout>
